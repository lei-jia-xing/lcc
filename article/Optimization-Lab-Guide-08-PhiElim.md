# 8. SSA 销毁：PhiElim、并行复制与临界边

这个优化相当重要，他保证了我们优化的正确性，最后我们为后端提供的ir不应该保留任何phi指令。

## 8.1 临界边（Critical Edge）必须分裂

临界边定义：

- 源块有多个后继
- 目标块有多个前驱

如果你把 Phi 复制直接插在源块末尾，会污染源块的其他后继；插在目标块开头会污染其他前驱。

解决方案：分裂临界边，建立中间块作为唯一插入点。

## 8.2 并行复制（Parallel Copy）需要处理环

典型环：`a←b, b←c, c←a`

必须引入临时变量打破环，否则值会被覆盖。
